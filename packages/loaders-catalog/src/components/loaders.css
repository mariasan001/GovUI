/* ==========================================================================
   GovUI Loaders (usa tokens del DS)
   ========================================================================== */

.gov-loader {
  --size: 28px;
  --stroke: 3px;
  --gap: 6px;
  --color: var(--primary-9);
  --muted: color-mix(in srgb, var(--ink) 30%, transparent);
  display: inline-grid;
  place-content: center;
  color: var(--color);
}

/* helper para demos individuales */
.loader-demo {
  inline-size: 84px;
  block-size: 84px;
  display: grid;
  place-content: center;
  border-radius: 12px;
  background: color-mix(in srgb, var(--ink) 6%, var(--surface));
  border: 1px solid color-mix(in srgb, var(--ink) 10%, transparent);
}

/* ---------------- RING ---------------- */
.gov-loader--ring {
  inline-size: var(--size);
  block-size: var(--size);
  border-radius: 999px;
  border: var(--stroke) solid color-mix(in srgb, var(--color) 25%, transparent);
  border-top-color: currentColor;
  animation: gl-spin .9s linear infinite;
}
@keyframes gl-spin { to { transform: rotate(360deg); } }

/* dashed */
.gov-loader--ring-dashed {
  inline-size: var(--size);
  block-size: var(--size);
  border-radius: 999px;
  border: var(--stroke) dashed currentColor;
  animation: gl-spin .9s linear infinite;
  opacity: .85;
}

/* ---------------- DOTS ---------------- */
.gov-loader--dots {
  display: inline-grid;
  grid-auto-flow: column;
  gap: var(--gap);
}
.gov-loader--dots > i {
  inline-size: calc(var(--size) * .22);
  block-size: calc(var(--size) * .22);
  border-radius: 999px;
  background: currentColor;
  opacity: .65;
  animation: gl-bounce .9s ease-in-out infinite;
}
.gov-loader--dots > i:nth-child(2){ animation-delay: .15s; }
.gov-loader--dots > i:nth-child(3){ animation-delay: .30s; }
@keyframes gl-bounce {
  0%,80%,100% { transform: translateY(0); opacity:.45; }
  40%        { transform: translateY(-30%); opacity:1; }
}

/* -------------- PULSE (fade circle) -------------- */
.gov-loader--pulse {
  position: relative;
  inline-size: var(--size);
  block-size: var(--size);
}
.gov-loader--pulse::before,
.gov-loader--pulse::after{
  content:"";
  position:absolute; inset:0;
  border-radius:999px;
  border: var(--stroke) solid currentColor;
  opacity:.8;
  animation: gl-pulse 1.2s ease-out infinite;
}
.gov-loader--pulse::after{ animation-delay:.6s; }
@keyframes gl-pulse{
  0%  { transform: scale(.35); opacity:.9; }
  70% { transform: scale(1);   opacity:.15;}
  100%{ transform: scale(1.1); opacity:0; }
}

/* -------------- BALL (bouncing) -------------- */
.gov-loader--ball {
  inline-size: var(--size);
  block-size: var(--size);
  position: relative;
}
.gov-loader--ball::before{
  content:"";
  position:absolute; left:50%; top:50%;
  translate:-50% -50%;
  inline-size: calc(var(--size) * .28);
  block-size: calc(var(--size) * .28);
  border-radius: 999px;
  background: currentColor;
  animation: gl-ball .9s ease-in-out infinite;
}
@keyframes gl-ball {
  0%,100% { transform: translateY(0); }
  50%     { transform: translateY(-45%); }
}

/* -------------- CLOCK -------------- */
.gov-loader--clock {
  position: relative;
  inline-size: var(--size);
  block-size: var(--size);
  border-radius: 999px;
  box-shadow: inset 0 0 0 var(--stroke) color-mix(in srgb, var(--color) 25%, transparent);
}
.gov-loader--clock::after{
  content:"";
  position:absolute; inset:calc(var(--size) * .18);
  border-top: var(--stroke) solid currentColor;
  transform-origin: calc(var(--size) * .15) center;
  animation: gl-spin 1.1s linear infinite;
}

/* -------------- WIFI (arcos) -------------- */
.gov-loader--wifi {
  position: relative;
  inline-size: var(--size);
  block-size: var(--size);
}
.gov-loader--wifi > i{
  --r: 30%;
  position:absolute; inset:0;
  border: var(--stroke) solid transparent;
  border-top-color: currentColor;
  border-radius: 999px;
  animation: gl-wifi 1.3s ease-out infinite;
  opacity:.85;
}
.gov-loader--wifi > i:nth-child(1){ inset:18%; animation-delay:0s;   }
.gov-loader--wifi > i:nth-child(2){ inset:8%;  animation-delay:.18s; }
.gov-loader--wifi > i:nth-child(3){ inset:0;   animation-delay:.36s; }
@keyframes gl-wifi { from{ transform: scale(.85); opacity:.2;} to{ transform: scale(1); opacity:1;} }

/* -------------- PAGE LOADER -------------- */
.gov-page-loader {
  position: fixed; inset: 0; z-index: 60;
  display:grid; place-items:center;
  background: color-mix(in srgb, var(--ink) 18%, transparent);
  backdrop-filter: saturate(160%) blur(4px);
}
.gov-page-loader__card{
  min-inline-size: 220px;
  display:grid; gap:12px; place-items:center;
  padding:20px 22px; border-radius: 16px;
  background: var(--surface);
  color: var(--ink);
  border: 1px solid color-mix(in srgb, var(--ink) 10%, transparent);
  box-shadow: 0 10px 30px rgba(0,0,0,.10);
}
.gov-page-loader__title{ font-weight: 700; }
.gov-page-loader__msg{ font-size: 14px; opacity:.75; }

/* ==========================================================================
   Presentación de catálogo (tarjetas 3×3)
   ========================================================================== */

.loader-section-head{ display:flex; flex-direction:column; gap:4px; }
.loader-section-desc{ opacity:.7; margin:0; }
/* Grid fluido que NO estira en exceso */
.loaders-grid-3{
  --card-min: 640px;      /* mínimo deseado de cada tarjeta */
  --card-max: 560px;      /* máximo de cada tarjeta para que no se “hagan gigantes” */
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fill, minmax(var(--card-min), 1fr));
  align-items: start;
}

/* Tarjeta */
.ld-card{
  max-width: var(--card-max);
  justify-self: start;    /* o center si las quieres centradas cuando haya espacio */
}

@media (max-width: 1000px){ .loaders-grid-3{ grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 640px){  .loaders-grid-3{ grid-template-columns: 1fr; } }

/* Tarjeta */
.loader-card{
  display:grid;
  grid-template-rows: auto 140px auto;
  gap:12px;
  border-radius:14px;
}

/* Encabezado de tarjeta */
.loader-card__header{ padding:8px 10px 0; }
.loader-title{ margin:0; font-size:16px; font-weight:700; }
.loader-desc{ margin:4px 0 0; opacity:.7; }

/* Escenario donde se centra el loader */
.loader-stage{
  margin:0 8px;
  border-radius:12px;
  border:1px solid color-mix(in srgb, var(--ink) 10%, transparent);
  background: color-mix(in srgb, var(--ink) 4%, var(--surface));
  display:grid; place-items:center;
}

/* Acciones de la tarjeta */
.loader-card__actions{
  padding:0 8px 10px;
  display:flex; justify-content:flex-end;
}

/* Fallback por si tu layout no trae .panel */
.panel{
  background: var(--surface);
  border: 1px solid color-mix(in srgb, var(--ink) 10%, transparent);
  border-radius: 14px;
}
